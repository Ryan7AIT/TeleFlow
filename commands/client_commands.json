{
    "insert_client": {
        "type": "conversation",
        "steps": [
            {
                "id": "name",
                "bot": "Please enter the client's full name:",
                "store_response": true
            },
            {
                "id": "email",
                "bot": "Please enter the client's email address:",
                "store_response": true
            },
            {
                "id": "phone",
                "bot": "Please enter the client's phone number:",
                "store_response": true
            },
            {
                "id": "address",
                "bot": "Please enter the client's address:",
                "store_response": true
            },
            {
                "id": "company",
                "bot": "Please enter the client's company name:",
                "store_response": true
            },
            {
                "id": "confirmation",
                "bot": "Please review the information:\n{summary}\n\nIs this information correct? (yes/no)",
                "expect": [
                    "yes",
                    "no"
                ],
                "responses": {
                    "yes": "Great! Adding client to the system...",
                    "no": "Let's update the information."
                },
                "goto": {
                    "no": "field_to_update",
                    "yes": "api_call"
                }
            },
            {
                "id": "field_to_update",
                "bot": "Which field would you like to update?\n1. Name\n2. Email\n3. Phone\n4. Address\n5. Company",
                "expect": [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5"
                ],
                "goto": {
                    "1": "name",
                    "2": "email",
                    "3": "phone",
                    "4": "address",
                    "5": "company"
                }
            },
            {
                "id": "api_call",
                "bot": "Adding client to the system...",
                "api": {
                    "method": "POST",
                    "url": "http://backend-v8.test/clients",
                    "payload": {
                        "name": "{name}",
                        "email": "{email}",
                        "phone": "{phone}",
                        "address": "{address}",
                        "company": "{company}"
                    }
                },
                "response_format": {
                    "format_rules": {
                        "client": {
                            "template": "Client: {name} ({email})",
                            "join_with": "\n"
                        }
                    },
                    "success_message": "Client has been successfully added to the system!",
                    "error_message": "Failed to add client. Please try again or contact support."
                },
                "is_final": true
            }
        ]
    }
}